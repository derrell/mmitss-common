# About
This directory contains example programs for testing *SAE J2735 Message Library* and *MAP Engine Library*.
- `testDecoder` program for testing encoding/decoding of *BSM*, *SRM*, *SPaT*, and *SSM* with hardcoded data elements.
- `testMapData` program for testing encoding/decoding of *MAP* using the intersection of Page Mill Rd at El Camino Real, Palo Alto, CA as an example.
	- It reads a *.nmap* file, encodes the MAP payload, logs the encoded payload in hex format, and decodes the encoded payload.
	- It reads a *.payload* file, decodes the pre-encoded payload, and logs the decoded MAP information is *nmap* format.
	- *.nmap* and *.payload* file of Page Mill Rd are contained in the `nmap` subdirectory
- Outputs generated by the testing programs are contained in the `output`	subdirectory.

## USDOT Connected Vehicle Message Validator
[USDOT Connected Vehicle Message Validator](https://webapp2.connectedvcs.com/validator/) can be utilized to validate the message payload encoded by the *SAE J2735 Message Library*.

# Build and Install

## On Ubuntu 18.04 PC
- Run `make clean; make all; make install`.
- After the compilation process, the binary executables are created in the `mrp/bin` subdirectory.

## On Ubuntu 18.04 Virtual Machine with Savri SDK-5.10.1.7
- Run `make -f MakeV2X clean; make -f MakeV2X all; make -f MakeV2X install`.
- After the compilation process, the binary executables are created in the `savari/bin` subdirectory.

# Usage
	./testDecoder -s <BSM|RSM|SSM|SPaT>

	./testMapData -f <nmap|payload> -s <intersection name>

# Outputs
Output data files created by `testDecoder` and `testMapData` are in `output` subdirectory:
- Directory `mrp` contain outputs on a Ubuntu 18.04 PC; and
- Directory `savari` contain outputs on an Savari OBU.
